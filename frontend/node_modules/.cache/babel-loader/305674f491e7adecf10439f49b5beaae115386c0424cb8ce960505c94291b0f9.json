{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelRadio as _vModelRadio, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, vModelSelect as _vModelSelect, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"edit-container\"\n};\nconst _hoisted_2 = {\n  class: \"form-group\"\n};\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"field-error\"\n};\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"field-error\"\n};\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"field-error\"\n};\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"field-error\"\n};\nconst _hoisted_11 = {\n  class: \"form-group\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"field-error\"\n};\nconst _hoisted_13 = {\n  class: \"form-group\"\n};\nconst _hoisted_14 = {\n  key: 0,\n  class: \"field-error\"\n};\nconst _hoisted_15 = {\n  class: \"form-group\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"field-error\"\n};\nconst _hoisted_17 = {\n  class: \"form-group\"\n};\nconst _hoisted_18 = {\n  key: 0,\n  class: \"field-error\"\n};\nconst _hoisted_19 = {\n  class: \"form-group\"\n};\nconst _hoisted_20 = [\"value\"];\nconst _hoisted_21 = {\n  key: 0,\n  class: \"field-error\"\n};\nconst _hoisted_22 = {\n  class: \"form-group\"\n};\nconst _hoisted_23 = {\n  key: 0,\n  class: \"field-error\"\n};\nconst _hoisted_24 = {\n  key: 0,\n  class: \"error-summary\"\n};\nconst _hoisted_25 = {\n  class: \"error-details\"\n};\nconst _hoisted_26 = {\n  key: 1,\n  class: \"success\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[37] || (_cache[37] = _createElementVNode(\"h1\", null, \"ユーザー情報編集\", -1 /* CACHED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[17] || (_cache[17] = _withModifiers((...args) => $options.handleUpdate && $options.handleUpdate(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_2, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", null, \"ユーザー名（変更不可）\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.form.username = $event),\n    type: \"text\",\n    disabled: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.username]])]), _createElementVNode(\"div\", _hoisted_3, [_cache[19] || (_cache[19] = _createElementVNode(\"label\", null, \"氏名\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.form.name = $event),\n    type: \"text\",\n    required: \"\",\n    class: _normalizeClass({\n      'error-input': $data.fieldErrors.name\n    })\n  }, null, 2 /* CLASS */), [[_vModelText, $data.form.name]]), $data.fieldErrors.name ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString($data.fieldErrors.name), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_5, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", null, \"年齢\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.form.age = $event),\n    type: \"number\",\n    min: \"0\",\n    max: \"150\",\n    class: _normalizeClass({\n      'error-input': $data.fieldErrors.age\n    })\n  }, null, 2 /* CLASS */), [[_vModelText, $data.form.age, void 0, {\n    number: true\n  }]]), $data.fieldErrors.age ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString($data.fieldErrors.age), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_7, [_cache[24] || (_cache[24] = _createElementVNode(\"label\", null, \"性別\", -1 /* CACHED */)), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"radio-group\", {\n      'error-border': $data.fieldErrors.gender\n    }])\n  }, [_createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.form.gender = $event),\n    value: \"男性\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.form.gender]]), _cache[21] || (_cache[21] = _createTextVNode(\" 男性\", -1 /* CACHED */))]), _createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.form.gender = $event),\n    value: \"女性\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.form.gender]]), _cache[22] || (_cache[22] = _createTextVNode(\" 女性\", -1 /* CACHED */))]), _createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.form.gender = $event),\n    value: \"その他\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.form.gender]]), _cache[23] || (_cache[23] = _createTextVNode(\" その他\", -1 /* CACHED */))])], 2 /* CLASS */), $data.fieldErrors.gender ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, _toDisplayString($data.fieldErrors.gender), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_9, [_cache[25] || (_cache[25] = _createElementVNode(\"label\", null, \"郵便番号（ハイフンなし）\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.form.postalCode = $event),\n    type: \"text\",\n    onBlur: _cache[7] || (_cache[7] = (...args) => $options.fetchAddress && $options.fetchAddress(...args)),\n    onInput: _cache[8] || (_cache[8] = (...args) => $options.formatPostalCode && $options.formatPostalCode(...args)),\n    placeholder: \"1000001\",\n    maxlength: \"8\",\n    class: _normalizeClass({\n      'error-input': $data.fieldErrors.postalCode\n    })\n  }, null, 34 /* CLASS, NEED_HYDRATION */), [[_vModelText, $data.form.postalCode]]), _cache[26] || (_cache[26] = _createElementVNode(\"div\", {\n    class: \"input-hint\"\n  }, \"例: 1000001 または 100-0001\", -1 /* CACHED */)), $data.fieldErrors.postalCode ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _toDisplayString($data.fieldErrors.postalCode), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_11, [_cache[27] || (_cache[27] = _createElementVNode(\"label\", null, \"都道府県\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.form.prefecture = $event),\n    type: \"text\",\n    class: _normalizeClass({\n      'error-input': $data.fieldErrors.prefecture\n    })\n  }, null, 2 /* CLASS */), [[_vModelText, $data.form.prefecture]]), $data.fieldErrors.prefecture ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, _toDisplayString($data.fieldErrors.prefecture), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_13, [_cache[28] || (_cache[28] = _createElementVNode(\"label\", null, \"市区町村\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.form.city = $event),\n    type: \"text\",\n    class: _normalizeClass({\n      'error-input': $data.fieldErrors.city\n    })\n  }, null, 2 /* CLASS */), [[_vModelText, $data.form.city]]), $data.fieldErrors.city ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, _toDisplayString($data.fieldErrors.city), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_15, [_cache[29] || (_cache[29] = _createElementVNode(\"label\", null, \"市区町村以降\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.form.address = $event),\n    type: \"text\",\n    class: _normalizeClass({\n      'error-input': $data.fieldErrors.address\n    })\n  }, null, 2 /* CLASS */), [[_vModelText, $data.form.address]]), $data.fieldErrors.address ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, _toDisplayString($data.fieldErrors.address), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_17, [_cache[30] || (_cache[30] = _createElementVNode(\"label\", null, \"電話番号\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.form.phoneNumber = $event),\n    type: \"tel\",\n    onInput: _cache[13] || (_cache[13] = (...args) => $options.formatPhoneNumber && $options.formatPhoneNumber(...args)),\n    placeholder: \"09012345678\",\n    maxlength: \"13\",\n    class: _normalizeClass({\n      'error-input': $data.fieldErrors.phoneNumber\n    })\n  }, null, 34 /* CLASS, NEED_HYDRATION */), [[_vModelText, $data.form.phoneNumber]]), _cache[31] || (_cache[31] = _createElementVNode(\"div\", {\n    class: \"input-hint\"\n  }, \"例: 09012345678 または 090-1234-5678\", -1 /* CACHED */)), $data.fieldErrors.phoneNumber ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, _toDisplayString($data.fieldErrors.phoneNumber), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_19, [_cache[33] || (_cache[33] = _createElementVNode(\"label\", null, \"国籍\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[14] || (_cache[14] = $event => $data.form.nationality = $event),\n    required: \"\",\n    class: _normalizeClass({\n      'error-input': $data.fieldErrors.nationality\n    })\n  }, [_cache[32] || (_cache[32] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"選択してください\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.countries, (country, index) => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: index,\n      value: country\n    }, _toDisplayString(country), 9 /* TEXT, PROPS */, _hoisted_20);\n  }), 128 /* KEYED_FRAGMENT */))], 2 /* CLASS */), [[_vModelSelect, $data.form.nationality]]), $data.fieldErrors.nationality ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, _toDisplayString($data.fieldErrors.nationality), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_22, [_cache[34] || (_cache[34] = _createElementVNode(\"label\", null, \"好きな食べ物（カンマ区切りで複数入力可）\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $data.favoriteFoodsInput = $event),\n    type: \"text\",\n    placeholder: \"例: ラーメン,寿司,カレー\",\n    class: _normalizeClass({\n      'error-input': $data.fieldErrors.favoriteFoods\n    })\n  }, null, 2 /* CLASS */), [[_vModelText, $data.favoriteFoodsInput]]), $data.fieldErrors.favoriteFoods ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, _toDisplayString($data.fieldErrors.favoriteFoods), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), $data.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [_cache[35] || (_cache[35] = _createElementVNode(\"strong\", null, \"⚠️ 入力内容に誤りがあります\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_25, _toDisplayString($data.errorMessage), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), $data.successMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_26, _toDisplayString($data.successMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _cache[36] || (_cache[36] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"save-btn\"\n  }, \"保存\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"back-btn\",\n    onClick: _cache[16] || (_cache[16] = (...args) => $options.goToList && $options.goToList(...args))\n  }, \"戻る\")], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","handleUpdate","_hoisted_2","$data","form","username","$event","type","disabled","_hoisted_3","name","required","_normalizeClass","fieldErrors","_hoisted_4","_toDisplayString","_hoisted_5","age","min","max","number","_hoisted_6","_hoisted_7","gender","value","_hoisted_8","_hoisted_9","postalCode","onBlur","fetchAddress","onInput","formatPostalCode","placeholder","maxlength","_hoisted_10","_hoisted_11","prefecture","_hoisted_12","_hoisted_13","city","_hoisted_14","_hoisted_15","address","_hoisted_16","_hoisted_17","phoneNumber","formatPhoneNumber","_hoisted_18","_hoisted_19","nationality","_Fragment","_renderList","countries","country","index","key","_hoisted_20","_hoisted_21","_hoisted_22","favoriteFoodsInput","favoriteFoods","_hoisted_23","errorMessage","_hoisted_24","_hoisted_25","successMessage","_hoisted_26","onClick","goToList"],"sources":["/Users/taharak_tabthinkmacbookpro/eclipse-workspace /tabthink-learning/frontend/src/views/UserEditView.vue"],"sourcesContent":["<template>\n  <div class=\"edit-container\">\n    <h1>ユーザー情報編集</h1>\n    <form @submit.prevent=\"handleUpdate\">\n      <div class=\"form-group\">\n        <label>ユーザー名（変更不可）</label>\n        <input v-model=\"form.username\" type=\"text\" disabled />\n      </div>\n      \n      <div class=\"form-group\">\n        <label>氏名</label>\n        <input \n          v-model=\"form.name\" \n          type=\"text\" \n          required \n          :class=\"{ 'error-input': fieldErrors.name }\"\n        />\n        <div v-if=\"fieldErrors.name\" class=\"field-error\">{{ fieldErrors.name }}</div>\n      </div>\n      \n      <div class=\"form-group\">\n        <label>年齢</label>\n        <input \n          v-model.number=\"form.age\" \n          type=\"number\" \n          min=\"0\" \n          max=\"150\" \n          :class=\"{ 'error-input': fieldErrors.age }\"\n        />\n        <div v-if=\"fieldErrors.age\" class=\"field-error\">{{ fieldErrors.age }}</div>\n      </div>\n      \n      <div class=\"form-group\">\n        <label>性別</label>\n        <div class=\"radio-group\" :class=\"{ 'error-border': fieldErrors.gender }\">\n          <label><input type=\"radio\" v-model=\"form.gender\" value=\"男性\" /> 男性</label>\n          <label><input type=\"radio\" v-model=\"form.gender\" value=\"女性\" /> 女性</label>\n          <label><input type=\"radio\" v-model=\"form.gender\" value=\"その他\" /> その他</label>\n        </div>\n        <div v-if=\"fieldErrors.gender\" class=\"field-error\">{{ fieldErrors.gender }}</div>\n      </div>\n      \n      <div class=\"form-group\">\n        <label>郵便番号（ハイフンなし）</label>\n        <input \n          v-model=\"form.postalCode\" \n          type=\"text\" \n          @blur=\"fetchAddress\" \n          @input=\"formatPostalCode\"\n          placeholder=\"1000001\" \n          maxlength=\"8\"\n          :class=\"{ 'error-input': fieldErrors.postalCode }\"\n        />\n        <div class=\"input-hint\">例: 1000001 または 100-0001</div>\n        <div v-if=\"fieldErrors.postalCode\" class=\"field-error\">{{ fieldErrors.postalCode }}</div>\n      </div>\n      \n      <div class=\"form-group\">\n        <label>都道府県</label>\n        <input \n          v-model=\"form.prefecture\" \n          type=\"text\" \n          :class=\"{ 'error-input': fieldErrors.prefecture }\"\n        />\n        <div v-if=\"fieldErrors.prefecture\" class=\"field-error\">{{ fieldErrors.prefecture }}</div>\n      </div>\n      \n      <div class=\"form-group\">\n        <label>市区町村</label>\n        <input \n          v-model=\"form.city\" \n          type=\"text\" \n          :class=\"{ 'error-input': fieldErrors.city }\"\n        />\n        <div v-if=\"fieldErrors.city\" class=\"field-error\">{{ fieldErrors.city }}</div>\n      </div>\n      \n      <div class=\"form-group\">\n        <label>市区町村以降</label>\n        <input \n          v-model=\"form.address\" \n          type=\"text\" \n          :class=\"{ 'error-input': fieldErrors.address }\"\n        />\n        <div v-if=\"fieldErrors.address\" class=\"field-error\">{{ fieldErrors.address }}</div>\n      </div>\n      \n      <div class=\"form-group\">\n        <label>電話番号</label>\n        <input \n          v-model=\"form.phoneNumber\" \n          type=\"tel\" \n          @input=\"formatPhoneNumber\"\n          placeholder=\"09012345678\"\n          maxlength=\"13\"\n          :class=\"{ 'error-input': fieldErrors.phoneNumber }\"\n        />\n        <div class=\"input-hint\">例: 09012345678 または 090-1234-5678</div>\n        <div v-if=\"fieldErrors.phoneNumber\" class=\"field-error\">{{ fieldErrors.phoneNumber }}</div>\n      </div>\n      \n      <div class=\"form-group\">\n        <label>国籍</label>\n        <select \n          v-model=\"form.nationality\" \n          required\n          :class=\"{ 'error-input': fieldErrors.nationality }\"\n        >\n          <option value=\"\">選択してください</option>\n          <option v-for=\"(country, index) in countries\" :key=\"index\" :value=\"country\">\n            {{ country }}\n          </option>\n        </select>\n        <div v-if=\"fieldErrors.nationality\" class=\"field-error\">{{ fieldErrors.nationality }}</div>\n      </div>\n      \n      <div class=\"form-group\">\n        <label>好きな食べ物（カンマ区切りで複数入力可）</label>\n        <input \n          v-model=\"favoriteFoodsInput\" \n          type=\"text\" \n          placeholder=\"例: ラーメン,寿司,カレー\"\n          :class=\"{ 'error-input': fieldErrors.favoriteFoods }\"\n        />\n        <div v-if=\"fieldErrors.favoriteFoods\" class=\"field-error\">{{ fieldErrors.favoriteFoods }}</div>\n      </div>\n      \n      <div v-if=\"errorMessage\" class=\"error-summary\">\n        <strong>⚠️ 入力内容に誤りがあります</strong>\n        <div class=\"error-details\">{{ errorMessage }}</div>\n      </div>\n      \n      <div v-if=\"successMessage\" class=\"success\">{{ successMessage }}</div>\n      \n      <button type=\"submit\" class=\"save-btn\">保存</button>\n      <button type=\"button\" class=\"back-btn\" @click=\"goToList\">戻る</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport countries from 'i18n-iso-countries'\nimport ja from 'i18n-iso-countries/langs/ja.json'\n\ncountries.registerLocale(ja)\n\nexport default {\n  name: 'UserEditView',\n  data() {\n    return {\n      form: {\n        username: '',\n        name: '',\n        age: null,\n        gender: '',\n        postalCode: '',\n        prefecture: '',\n        city: '',\n        address: '',\n        phoneNumber: '',\n        nationality: ''\n      },\n      favoriteFoodsInput: '',\n      errorMessage: '',\n      successMessage: '',\n      fieldErrors: {},\n      countries: []\n    }\n  },\n  created() {\n    const countryObj = countries.getNames('ja')\n    this.countries = Object.values(countryObj).sort()\n    this.loadUser()\n  },\n  methods: {\n    formatPostalCode() {\n      let value = this.form.postalCode.replace(/[^\\d-]/g, '')\n      value = value.replace(/-/g, '')\n      \n      if (value.length >= 4) {\n        value = value.slice(0, 3) + '-' + value.slice(3, 7)\n      }\n      \n      this.form.postalCode = value\n      \n      if (this.fieldErrors.postalCode) {\n        delete this.fieldErrors.postalCode\n      }\n    },\n    formatPhoneNumber() {\n      let value = this.form.phoneNumber.replace(/[^\\d-]/g, '')\n      value = value.replace(/-/g, '')\n      \n      if (value.length >= 11) {\n        value = value.slice(0, 3) + '-' + value.slice(3, 7) + '-' + value.slice(7, 11)\n      } else if (value.length >= 10) {\n        if (value.startsWith('0') && value[1] !== '0') {\n          if (['03', '04', '06'].includes(value.slice(0, 2))) {\n            value = value.slice(0, 2) + '-' + value.slice(2, 6) + '-' + value.slice(6, 10)\n          } else {\n            value = value.slice(0, 3) + '-' + value.slice(3, 6) + '-' + value.slice(6, 10)\n          }\n        }\n      } else if (value.length >= 7) {\n        value = value.slice(0, 3) + '-' + value.slice(3)\n      }\n      \n      this.form.phoneNumber = value\n      \n      if (this.fieldErrors.phoneNumber) {\n        delete this.fieldErrors.phoneNumber\n      }\n    },\n    async loadUser() {\n      const userId = this.$route.params.id\n      try {\n        const response = await fetch(`http://localhost:8081/api/users/${userId}`)\n        const data = await response.json()\n        \n        this.form.username = data.username\n        this.form.name = data.name\n        this.form.age = data.age\n        \n        if (data.gender === '男') {\n          this.form.gender = '男性'\n        } else if (data.gender === '女') {\n          this.form.gender = '女性'\n        } else {\n          this.form.gender = data.gender\n        }\n        \n        this.form.postalCode = data.postalCode\n        this.form.prefecture = data.prefecture\n        this.form.city = data.city\n        this.form.address = data.address\n        this.form.phoneNumber = data.phoneNumber\n        this.form.nationality = data.nationality\n        \n        if (Array.isArray(data.favoriteFoods)) {\n          this.favoriteFoodsInput = data.favoriteFoods.join(', ')\n        } else if (typeof data.favoriteFoods === 'string') {\n          this.favoriteFoodsInput = data.favoriteFoods\n        } else {\n          this.favoriteFoodsInput = ''\n        }\n      } catch (error) {\n        console.error('ユーザー情報の取得に失敗しました:', error)\n        this.errorMessage = 'ユーザー情報の取得に失敗しました'\n      }\n    },\n    async fetchAddress() {\n      const postalCode = this.form.postalCode.replace(/-/g, '')\n      \n      if (postalCode.length === 7) {\n        try {\n          const response = await fetch(`https://zipcloud.ibsnet.co.jp/api/search?zipcode=${postalCode}`)\n          const data = await response.json()\n          \n          if (data.results) {\n            this.form.prefecture = data.results[0].address1\n            this.form.city = data.results[0].address2 + data.results[0].address3\n          }\n        } catch (error) {\n          console.error('住所取得エラー:', error)\n        }\n      }\n    },\n    getFieldNameInJapanese(fieldName) {\n      const fieldMap = {\n        name: '氏名',\n        age: '年齢',\n        gender: '性別',\n        postalCode: '郵便番号',\n        prefecture: '都道府県',\n        city: '市区町村',\n        address: '市区町村以降の住所',\n        phoneNumber: '電話番号',\n        nationality: '国籍',\n        favoriteFoods: '好きな食べ物'\n      }\n      return fieldMap[fieldName] || fieldName\n    },\n    async handleUpdate() {\n      this.errorMessage = ''\n      this.successMessage = ''\n      this.fieldErrors = {}\n      \n      const favoriteFoods = this.favoriteFoodsInput\n        .split(',')\n        .map(food => food.trim())\n        .filter(food => food !== '')\n      \n      const userId = this.$route.params.id\n      \n      const requestData = {\n        name: this.form.name,\n        gender: this.form.gender,\n        age: this.form.age,\n        postalCode: this.form.postalCode,\n        prefecture: this.form.prefecture,\n        city: this.form.city,\n        address: this.form.address,\n        phoneNumber: this.form.phoneNumber,\n        nationality: this.form.nationality,\n        favoriteFoods: favoriteFoods\n      }\n      \n      console.log('========== 送信データ（更新） ==========')\n      console.log('全データ:', JSON.stringify(requestData, null, 2))\n      console.log('=======================================')\n      \n      try {\n        const response = await fetch(`http://localhost:8081/api/users/${userId}`, {\n          method: 'PUT',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(requestData)\n        })\n        \n        const data = await response.json()\n        \n        console.log('========== サーバーからの応答（更新） ==========')\n        console.log('ステータス:', response.status)\n        console.log('レスポンス:', JSON.stringify(data, null, 2))\n        console.log('===============================================')\n        \n        if (response.ok) {\n          this.successMessage = '✅ 更新成功！一覧画面に戻ります...'\n          setTimeout(() => {\n            this.$router.push('/users')\n          }, 1500)\n        } else {\n          if (data.errors) {\n            this.fieldErrors = {}\n            const errorList = []\n            \n            if (Array.isArray(data.errors)) {\n              data.errors.forEach(error => {\n                if (error.field && error.defaultMessage) {\n                  const japaneseFieldName = this.getFieldNameInJapanese(error.field)\n                  this.fieldErrors[error.field] = error.defaultMessage\n                  errorList.push(`・${japaneseFieldName}: ${error.defaultMessage}`)\n                } else if (typeof error === 'string') {\n                  errorList.push(`・${error}`)\n                }\n              })\n            } else if (typeof data.errors === 'object') {\n              for (const [field, message] of Object.entries(data.errors)) {\n                if (typeof message === 'string') {\n                  const japaneseFieldName = this.getFieldNameInJapanese(field)\n                  this.fieldErrors[field] = message\n                  errorList.push(`・${japaneseFieldName}: ${message}`)\n                }\n              }\n            }\n            \n            if (errorList.length > 0) {\n              this.errorMessage = '以下の項目を修正してください:\\n' + errorList.join('\\n')\n            } else {\n              this.errorMessage = 'バリデーションエラーが発生しました。入力内容を確認してください。'\n            }\n          } else if (data.message) {\n            this.errorMessage = data.message\n          } else if (data.error) {\n            this.errorMessage = data.error\n          } else {\n            this.errorMessage = '更新に失敗しました。入力内容を確認してください。'\n          }\n          \n          this.$nextTick(() => {\n            const firstError = document.querySelector('.error-input')\n            if (firstError) {\n              firstError.scrollIntoView({ behavior: 'smooth', block: 'center' })\n              firstError.focus()\n            }\n          })\n        }\n      } catch (error) {\n        console.error('更新エラー:', error)\n        this.errorMessage = '❌ サーバーとの接続に失敗しました。ネットワーク接続を確認してください。'\n      }\n    },\n    goToList() {\n      this.$router.push('/users')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.edit-container {\n  max-width: 500px;\n  margin: 50px auto;\n  padding: 30px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n}\n\nh1 {\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\nlabel {\n  display: block;\n  margin-bottom: 5px;\n  font-weight: bold;\n}\n\ninput, select {\n  width: 100%;\n  padding: 10px;\n  font-size: 14px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  box-sizing: border-box;\n  transition: border-color 0.3s;\n}\n\ninput:focus, select:focus {\n  outline: none;\n  border-color: #4CAF50;\n}\n\ninput:disabled {\n  background-color: #f0f0f0;\n  cursor: not-allowed;\n}\n\n.error-input {\n  border-color: #f44336 !important;\n  background-color: #ffebee;\n}\n\n.error-border {\n  border: 2px solid #f44336;\n  padding: 10px;\n  border-radius: 4px;\n  background-color: #ffebee;\n}\n\n.field-error {\n  color: #f44336;\n  font-size: 12px;\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n}\n\n.field-error::before {\n  content: \"⚠️ \";\n  margin-right: 4px;\n}\n\n.input-hint {\n  color: #666;\n  font-size: 12px;\n  margin-top: 3px;\n}\n\n.radio-group {\n  display: flex;\n  gap: 20px;\n  padding: 10px;\n}\n\n.radio-group label {\n  display: flex;\n  align-items: center;\n  font-weight: normal;\n}\n\n.radio-group input {\n  width: auto;\n  margin-right: 5px;\n}\n\n.save-btn, .back-btn {\n  width: 100%;\n  padding: 12px;\n  font-size: 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-bottom: 10px;\n}\n\n.save-btn {\n  background-color: #4CAF50;\n  color: white;\n}\n\n.save-btn:hover {\n  background-color: #45a049;\n}\n\n.back-btn {\n  background-color: #999;\n  color: white;\n}\n\n.back-btn:hover {\n  background-color: #777;\n}\n\n.error-summary {\n  background-color: #ffebee;\n  border: 2px solid #f44336;\n  border-radius: 4px;\n  padding: 15px;\n  margin-bottom: 15px;\n}\n\n.error-summary strong {\n  color: #f44336;\n  display: block;\n  margin-bottom: 10px;\n  font-size: 16px;\n}\n\n.error-details {\n  color: #c62828;\n  white-space: pre-line;\n  font-size: 14px;\n  line-height: 1.6;\n}\n\n.success {\n  background-color: #e8f5e9;\n  border: 2px solid #4CAF50;\n  color: #2e7d32;\n  padding: 15px;\n  margin-bottom: 15px;\n  text-align: center;\n  border-radius: 4px;\n  font-weight: bold;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}