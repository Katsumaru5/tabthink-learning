{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nexport default {\n  name: 'UserListView',\n  data() {\n    return {\n      currentUsername: '',\n      users: [],\n      searchForm: {\n        name: '',\n        gender: '',\n        age: null,\n        food: '',\n        searchType: 'AND'\n      }\n    };\n  },\n  created() {\n    this.currentUsername = localStorage.getItem('username') || 'ゲスト';\n    this.loadAllUsers();\n  },\n  methods: {\n    async loadAllUsers() {\n      try {\n        const response = await fetch('http://localhost:8081/api/users/list');\n        this.users = await response.json();\n      } catch (error) {\n        console.error('ユーザー取得エラー:', error);\n      }\n    },\n    async handleSearch() {\n      const params = new URLSearchParams();\n      if (this.searchForm.name) params.append('name', this.searchForm.name);\n      if (this.searchForm.gender) params.append('gender', this.searchForm.gender);\n      if (this.searchForm.age) params.append('age', this.searchForm.age);\n      if (this.searchForm.food) params.append('food', this.searchForm.food);\n      params.append('searchType', this.searchForm.searchType);\n      try {\n        const response = await fetch(`http://localhost:8081/api/users/search?${params.toString()}`);\n        this.users = await response.json();\n      } catch (error) {\n        console.error('検索エラー:', error);\n      }\n    },\n    handleReset() {\n      this.searchForm = {\n        name: '',\n        gender: '',\n        age: null,\n        food: '',\n        searchType: 'AND'\n      };\n      this.loadAllUsers();\n    },\n    handleLogout() {\n      localStorage.removeItem('username');\n      this.$router.push('/login');\n    },\n    goToDetail(userId) {\n      this.$router.push(`/users/${userId}`);\n    }\n  }\n};","map":{"version":3,"names":["name","data","currentUsername","users","searchForm","gender","age","food","searchType","created","localStorage","getItem","loadAllUsers","methods","response","fetch","json","error","console","handleSearch","params","URLSearchParams","append","toString","handleReset","handleLogout","removeItem","$router","push","goToDetail","userId"],"sources":["/Users/taharak_tabthinkmacbookpro/eclipse-workspace /tabthink-learning/frontend/src/views/UserListView.vue"],"sourcesContent":["<template>\n  <div class=\"user-list-container\">\n    <div class=\"header\">\n      <div class=\"welcome\">こんにちは {{ currentUsername }}さん</div>\n      <button @click=\"handleLogout\" class=\"logout-btn\">ログアウト</button>\n    </div>\n    \n    <h1>ユーザー一覧</h1>\n    \n    <div class=\"search-section\">\n      <h2>検索条件</h2>\n      <div class=\"search-form\">\n        <div class=\"form-row\">\n          <div class=\"form-group\">\n            <label>名前</label>\n            <input v-model=\"searchForm.name\" type=\"text\" placeholder=\"部分一致\" />\n          </div>\n          \n          <div class=\"form-group\">\n            <label>性別</label>\n            <select v-model=\"searchForm.gender\">\n              <option value=\"\">すべて</option>\n              <option value=\"男\">男</option>\n              <option value=\"女\">女</option>\n              <option value=\"その他\">その他</option>\n            </select>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>年齢</label>\n            <input v-model.number=\"searchForm.age\" type=\"number\" placeholder=\"完全一致\" />\n          </div>\n          \n          <div class=\"form-group\">\n            <label>好きな食べ物</label>\n            <input v-model=\"searchForm.food\" type=\"text\" placeholder=\"部分一致\" />\n          </div>\n        </div>\n        \n        <div class=\"search-actions\">\n          <div class=\"radio-group\">\n            <label><input type=\"radio\" v-model=\"searchForm.searchType\" value=\"AND\" /> AND検索</label>\n            <label><input type=\"radio\" v-model=\"searchForm.searchType\" value=\"OR\" /> OR検索</label>\n          </div>\n          <button @click=\"handleSearch\" class=\"search-btn\">検索</button>\n          <button @click=\"handleReset\" class=\"reset-btn\">リセット</button>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"user-table-section\">\n      <h2>検索結果 ({{ users.length }}件)</h2>\n      <div v-if=\"users.length === 0\" class=\"no-data\">データがありません</div>\n      <table v-else class=\"user-table\">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>名前</th>\n            <th>性別</th>\n            <th>年齢</th>\n            <th>郵便番号</th>\n            <th>住所</th>\n            <th>電話番号</th>\n            <th>国籍</th>\n            <th>好きな食べ物</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"user in users\" :key=\"user.id\" @click=\"goToDetail(user.id)\" class=\"clickable\">\n            <td>{{ user.id }}</td>\n            <td>{{ user.name }}</td>\n            <td>{{ user.gender }}</td>\n            <td>{{ user.age }}</td>\n            <td>{{ user.postalCode }}</td>\n            <td>{{ user.prefecture }} {{ user.city }} {{ user.address }}</td>\n            <td>{{ user.phoneNumber }}</td>\n            <td>{{ user.nationality }}</td>\n            <td>{{ user.favoriteFoods.join(', ') }}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'UserListView',\n  data() {\n    return {\n      currentUsername: '',\n      users: [],\n      searchForm: {\n        name: '',\n        gender: '',\n        age: null,\n        food: '',\n        searchType: 'AND'\n      }\n    }\n  },\n  created() {\n    this.currentUsername = localStorage.getItem('username') || 'ゲスト'\n    this.loadAllUsers()\n  },\n  methods: {\n    async loadAllUsers() {\n      try {\n        const response = await fetch('http://localhost:8081/api/users/list')\n        this.users = await response.json()\n      } catch (error) {\n        console.error('ユーザー取得エラー:', error)\n      }\n    },\n    async handleSearch() {\n      const params = new URLSearchParams()\n      \n      if (this.searchForm.name) params.append('name', this.searchForm.name)\n      if (this.searchForm.gender) params.append('gender', this.searchForm.gender)\n      if (this.searchForm.age) params.append('age', this.searchForm.age)\n      if (this.searchForm.food) params.append('food', this.searchForm.food)\n      params.append('searchType', this.searchForm.searchType)\n      \n      try {\n        const response = await fetch(`http://localhost:8081/api/users/search?${params.toString()}`)\n        this.users = await response.json()\n      } catch (error) {\n        console.error('検索エラー:', error)\n      }\n    },\n    handleReset() {\n      this.searchForm = {\n        name: '',\n        gender: '',\n        age: null,\n        food: '',\n        searchType: 'AND'\n      }\n      this.loadAllUsers()\n    },\n    handleLogout() {\n      localStorage.removeItem('username')\n      this.$router.push('/login')\n    },\n    goToDetail(userId) {\n      this.$router.push(`/users/${userId}`)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.user-list-container {\n  max-width: 1200px;\n  margin: 30px auto;\n  padding: 20px;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 30px;\n  padding: 15px;\n  background: #f0f0f0;\n  border-radius: 8px;\n}\n\n.welcome {\n  font-size: 18px;\n  font-weight: bold;\n  color: #333;\n}\n\n.logout-btn {\n  padding: 10px 20px;\n  background-color: #f44336;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n}\n\n.logout-btn:hover {\n  background-color: #d32f2f;\n}\n\nh1, h2 {\n  margin-bottom: 20px;\n}\n\n.search-section {\n  background: #f5f5f5;\n  padding: 20px;\n  border-radius: 8px;\n  margin-bottom: 30px;\n}\n\n.form-row {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 15px;\n  margin-bottom: 15px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n}\n\n.form-group label {\n  margin-bottom: 5px;\n  font-weight: bold;\n  font-size: 14px;\n}\n\n.form-group input,\n.form-group select {\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 14px;\n}\n\n.search-actions {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n.radio-group {\n  display: flex;\n  gap: 20px;\n}\n\n.radio-group label {\n  display: flex;\n  align-items: center;\n}\n\n.radio-group input {\n  margin-right: 5px;\n}\n\n.search-btn, .reset-btn {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n}\n\n.search-btn {\n  background-color: #4CAF50;\n  color: white;\n}\n\n.reset-btn {\n  background-color: #999;\n  color: white;\n}\n\n.user-table-section {\n  margin-top: 30px;\n}\n\n.no-data {\n  text-align: center;\n  padding: 40px;\n  color: #999;\n}\n\n.user-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: white;\n}\n\n.user-table th,\n.user-table td {\n  padding: 12px;\n  text-align: left;\n  border: 1px solid #ddd;\n}\n\n.user-table th {\n  background-color: #f0f0f0;\n  font-weight: bold;\n}\n\n.user-table tbody tr.clickable {\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.user-table tbody tr.clickable:hover {\n  background-color: #f9f9f9;\n}\n</style>"],"mappings":";;;;AAsFA,eAAe;EACbA,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,eAAe,EAAE,EAAE;MACnBC,KAAK,EAAE,EAAE;MACTC,UAAU,EAAE;QACVJ,IAAI,EAAE,EAAE;QACRK,MAAM,EAAE,EAAE;QACVC,GAAG,EAAE,IAAI;QACTC,IAAI,EAAE,EAAE;QACRC,UAAU,EAAE;MACd;IACF;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACP,eAAc,GAAIQ,YAAY,CAACC,OAAO,CAAC,UAAU,KAAK,KAAI;IAC/D,IAAI,CAACC,YAAY,CAAC;EACpB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMC,KAAK,CAAC,sCAAsC;QACnE,IAAI,CAACZ,KAAI,GAAI,MAAMW,QAAQ,CAACE,IAAI,CAAC;MACnC,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK;MACnC;IACF,CAAC;IACD,MAAME,YAAYA,CAAA,EAAG;MACnB,MAAMC,MAAK,GAAI,IAAIC,eAAe,CAAC;MAEnC,IAAI,IAAI,CAACjB,UAAU,CAACJ,IAAI,EAAEoB,MAAM,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAAClB,UAAU,CAACJ,IAAI;MACpE,IAAI,IAAI,CAACI,UAAU,CAACC,MAAM,EAAEe,MAAM,CAACE,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAClB,UAAU,CAACC,MAAM;MAC1E,IAAI,IAAI,CAACD,UAAU,CAACE,GAAG,EAAEc,MAAM,CAACE,MAAM,CAAC,KAAK,EAAE,IAAI,CAAClB,UAAU,CAACE,GAAG;MACjE,IAAI,IAAI,CAACF,UAAU,CAACG,IAAI,EAAEa,MAAM,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAAClB,UAAU,CAACG,IAAI;MACpEa,MAAM,CAACE,MAAM,CAAC,YAAY,EAAE,IAAI,CAAClB,UAAU,CAACI,UAAU;MAEtD,IAAI;QACF,MAAMM,QAAO,GAAI,MAAMC,KAAK,CAAC,0CAA0CK,MAAM,CAACG,QAAQ,CAAC,CAAC,EAAE;QAC1F,IAAI,CAACpB,KAAI,GAAI,MAAMW,QAAQ,CAACE,IAAI,CAAC;MACnC,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK;MAC/B;IACF,CAAC;IACDO,WAAWA,CAAA,EAAG;MACZ,IAAI,CAACpB,UAAS,GAAI;QAChBJ,IAAI,EAAE,EAAE;QACRK,MAAM,EAAE,EAAE;QACVC,GAAG,EAAE,IAAI;QACTC,IAAI,EAAE,EAAE;QACRC,UAAU,EAAE;MACd;MACA,IAAI,CAACI,YAAY,CAAC;IACpB,CAAC;IACDa,YAAYA,CAAA,EAAG;MACbf,YAAY,CAACgB,UAAU,CAAC,UAAU;MAClC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ;IAC5B,CAAC;IACDC,UAAUA,CAACC,MAAM,EAAE;MACjB,IAAI,CAACH,OAAO,CAACC,IAAI,CAAC,UAAUE,MAAM,EAAE;IACtC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}