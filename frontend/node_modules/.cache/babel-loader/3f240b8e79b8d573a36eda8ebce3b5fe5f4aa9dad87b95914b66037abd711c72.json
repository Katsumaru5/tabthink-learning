{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nexport default {\n  name: 'UserListView',\n  data() {\n    return {\n      currentUsername: '',\n      users: [],\n      searchForm: {\n        name: '',\n        gender: '',\n        age: null,\n        food: '',\n        searchType: 'AND'\n      }\n    };\n  },\n  mounted() {\n    // „Åì„ÅÆÈÉ®ÂàÜ„Çí‰øÆÊ≠£\n    this.userName = localStorage.getItem('userName') || '„Ç≤„Çπ„Éà';\n    console.log('üë§ ÂèñÂæó„Åó„Åü„É¶„Éº„Ç∂„ÉºÂêç:', this.userName);\n    this.fetchUsers();\n  },\n  methods: {\n    async loadAllUsers() {\n      try {\n        const response = await fetch('http://localhost:8081/api/users/list');\n        const data = await response.json();\n        console.log('ÂèñÂæó„Åó„Åü„É¶„Éº„Ç∂„Éº„Éá„Éº„Çø:', data);\n        console.log('ÊúÄÂàù„ÅÆ„É¶„Éº„Ç∂„Éº„ÅÆfavoriteFoods:', data[0]?.favoriteFoods);\n        this.users = data;\n      } catch (error) {\n        console.error('„É¶„Éº„Ç∂„Éº‰∏ÄË¶ß„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü', error);\n      }\n    },\n    async handleSearch() {\n      const params = new URLSearchParams();\n      if (this.searchForm.name) {\n        params.append('name', this.searchForm.name);\n      }\n      if (this.searchForm.gender) {\n        params.append('gender', this.searchForm.gender);\n      }\n      if (this.searchForm.age) {\n        params.append('age', this.searchForm.age);\n      }\n      if (this.searchForm.food) {\n        params.append('food', this.searchForm.food);\n      }\n      params.append('searchType', this.searchForm.searchType);\n      try {\n        const response = await fetch(`http://localhost:8081/api/users/search?${params.toString()}`);\n        const data = await response.json();\n        this.users = data;\n      } catch (error) {\n        console.error('Ê§úÁ¥¢„Å´Â§±Êïó„Åó„Åæ„Åó„Åü', error);\n      }\n    },\n    handleReset() {\n      this.searchForm = {\n        name: '',\n        gender: '',\n        age: null,\n        food: '',\n        searchType: 'AND'\n      };\n      this.loadAllUsers();\n    },\n    handleLogout() {\n      localStorage.removeItem('username');\n      this.$router.push('/login');\n    },\n    goToEdit(userId) {\n      this.$router.push(`/users/${userId}/edit`);\n    },\n    async handleDelete(userId) {\n      if (!confirm('Êú¨ÂΩì„Å´ÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü')) {\n        return;\n      }\n      try {\n        const response = await fetch(`http://localhost:8081/api/users/${userId}`, {\n          method: 'DELETE'\n        });\n        const data = await response.json();\n        if (data.success) {\n          alert('ÂâäÈô§„Åó„Åæ„Åó„Åü');\n          this.loadAllUsers();\n        } else {\n          alert(data.error || 'ÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');\n        }\n      } catch (error) {\n        console.error('ÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü', error);\n        alert('ÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","currentUsername","users","searchForm","gender","age","food","searchType","mounted","userName","localStorage","getItem","console","log","fetchUsers","methods","loadAllUsers","response","fetch","json","favoriteFoods","error","handleSearch","params","URLSearchParams","append","toString","handleReset","handleLogout","removeItem","$router","push","goToEdit","userId","handleDelete","confirm","method","success","alert"],"sources":["/Users/taharak_tabthinkmacbookpro/eclipse-workspace /tabthink-learning/frontend/src/views/UserListView.vue"],"sourcesContent":["<template>\n  <div class=\"user-list-container\">\n    <div class=\"header\">\n      <div class=\"welcome\">„Åì„Çì„Å´„Å°„ÅØ {{ currentUsername }}„Åï„Çì</div>\n      <button @click=\"handleLogout\" class=\"logout-btn\">„É≠„Ç∞„Ç¢„Ç¶„Éà</button>\n    </div>\n    \n    <h1>„É¶„Éº„Ç∂„Éº‰∏ÄË¶ß</h1>\n    \n    <div class=\"search-section\">\n      <h2>Ê§úÁ¥¢Êù°‰ª∂</h2>\n      <div class=\"search-form\">\n        <div class=\"form-row\">\n          <div class=\"form-group\">\n            <label>ÂêçÂâç</label>\n            <input v-model=\"searchForm.name\" type=\"text\" placeholder=\"ÈÉ®ÂàÜ‰∏ÄËá¥\" />\n          </div>\n          \n\t\t<div class=\"form-group\">\n\t\t\t<label>ÊÄßÂà•</label>\n\t\t\t<select v-model=\"searchForm.gender\">\n\t\t\t\t<option value=\"\">„Åô„Åπ„Å¶</option>\n\t\t\t\t<option value=\"Áî∑ÊÄß\">Áî∑ÊÄß</option>\n\t\t\t\t<option value=\"Â•≥ÊÄß\">Â•≥ÊÄß</option>\n\t\t\t\t<option value=\"„Åù„ÅÆ‰ªñ\">„Åù„ÅÆ‰ªñ</option>\n\t\t\t</select>\n\t\t</div>\n          \n          <div class=\"form-group\">\n            <label>Âπ¥ÈΩ¢</label>\n            <input v-model.number=\"searchForm.age\" type=\"number\" placeholder=\"ÂÆåÂÖ®‰∏ÄËá¥\" />\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Â•Ω„Åç„Å™È£ü„ÅπÁâ©</label>\n            <input v-model=\"searchForm.food\" type=\"text\" placeholder=\"ÈÉ®ÂàÜ‰∏ÄËá¥\" />\n          </div>\n        </div>\n        \n        <div class=\"form-row\">\n          <div class=\"form-group\">\n            <label>Ê§úÁ¥¢„Çø„Ç§„Éó</label>\n            <div class=\"radio-group\">\n              <label>\n                <input type=\"radio\" v-model=\"searchForm.searchType\" value=\"AND\" />\n                ANDÊ§úÁ¥¢\n              </label>\n              <label>\n                <input type=\"radio\" v-model=\"searchForm.searchType\" value=\"OR\" />\n                ORÊ§úÁ¥¢\n              </label>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"button-group\">\n          <button @click=\"handleSearch\" class=\"search-btn\">Ê§úÁ¥¢</button>\n          <button @click=\"handleReset\" class=\"reset-btn\">„É™„Çª„ÉÉ„Éà</button>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"result-section\">\n      <h2>Ê§úÁ¥¢ÁµêÊûú ({{ users.length }}‰ª∂)</h2>\n      \n      <div v-if=\"users.length === 0\" class=\"no-data\">\n        „Éá„Éº„Çø„Åå„ÅÇ„Çä„Åæ„Åõ„Çì\n      </div>\n      \n      <table v-else class=\"user-table\">\n        <thead>\n          <tr>\n            <th>No.</th>\n            <th>ÂêçÂâç</th>\n            <th>ÊÄßÂà•</th>\n            <th>Âπ¥ÈΩ¢</th>\n            <th>ÈÉµ‰æøÁï™Âè∑</th>\n            <th>‰ΩèÊâÄ</th>\n            <th>ÈõªË©±Áï™Âè∑</th>\n            <th>ÂõΩÁ±ç</th>\n            <th>Â•Ω„Åç„Å™È£ü„ÅπÁâ©</th>\n            <th>„É°„Éã„É•„Éº</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(user, index) in users\" :key=\"user.id\">\n            <td>{{ index + 1 }}</td>\n            <td>{{ user.name }}</td>\n            <td>{{ user.gender }}</td>\n            <td>{{ user.age }}</td>\n            <td>{{ user.postalCode }}</td>\n            <td>{{ user.prefecture }}{{ user.city }}{{ user.address }}</td>\n            <td>{{ user.phoneNumber }}</td>\n            <td>{{ user.nationality }}</td>\n            <td>\n              <template v-if=\"user.favoriteFoods && user.favoriteFoods.length > 0\">\n                {{ user.favoriteFoods.join(', ') }}\n              </template>\n              <template v-else>\n                „Å™„Åó\n              </template>\n            </td>\n            <td>\n              <button @click=\"goToEdit(user.id)\" class=\"edit-btn\">\n                Á∑®ÈõÜ\n              </button>\n              <button @click=\"handleDelete(user.id)\" class=\"delete-btn\">\n                ÂâäÈô§\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'UserListView',\n  data() {\n    return {\n      currentUsername: '',\n      users: [],\n      searchForm: {\n        name: '',\n        gender: '',\n        age: null,\n        food: '',\n        searchType: 'AND'\n      }\n    }\n  },\n  mounted() {\n    // „Åì„ÅÆÈÉ®ÂàÜ„Çí‰øÆÊ≠£\n    this.userName = localStorage.getItem('userName') || '„Ç≤„Çπ„Éà';\n    console.log('üë§ ÂèñÂæó„Åó„Åü„É¶„Éº„Ç∂„ÉºÂêç:', this.userName);\n    \n    this.fetchUsers();\n  },\n  methods: {\n    async loadAllUsers() {\n      try {\n        const response = await fetch('http://localhost:8081/api/users/list')\n        const data = await response.json()\n        console.log('ÂèñÂæó„Åó„Åü„É¶„Éº„Ç∂„Éº„Éá„Éº„Çø:', data)\n        console.log('ÊúÄÂàù„ÅÆ„É¶„Éº„Ç∂„Éº„ÅÆfavoriteFoods:', data[0]?.favoriteFoods)\n        this.users = data\n      } catch (error) {\n        console.error('„É¶„Éº„Ç∂„Éº‰∏ÄË¶ß„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü', error)\n      }\n    },\n    async handleSearch() {\n      const params = new URLSearchParams()\n      \n      if (this.searchForm.name) {\n        params.append('name', this.searchForm.name)\n      }\n      if (this.searchForm.gender) {\n        params.append('gender', this.searchForm.gender)\n      }\n      if (this.searchForm.age) {\n        params.append('age', this.searchForm.age)\n      }\n      if (this.searchForm.food) {\n        params.append('food', this.searchForm.food)\n      }\n      params.append('searchType', this.searchForm.searchType)\n      \n      try {\n        const response = await fetch(\n          `http://localhost:8081/api/users/search?${params.toString()}`\n        )\n        const data = await response.json()\n        this.users = data\n      } catch (error) {\n        console.error('Ê§úÁ¥¢„Å´Â§±Êïó„Åó„Åæ„Åó„Åü', error)\n      }\n    },\n    handleReset() {\n      this.searchForm = {\n        name: '',\n        gender: '',\n        age: null,\n        food: '',\n        searchType: 'AND'\n      }\n      this.loadAllUsers()\n    },\n    handleLogout() {\n      localStorage.removeItem('username')\n      this.$router.push('/login')\n    },\n    goToEdit(userId) {\n      this.$router.push(`/users/${userId}/edit`)\n    },\n    async handleDelete(userId) {\n      if (!confirm('Êú¨ÂΩì„Å´ÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü')) {\n        return\n      }\n      \n      try {\n        const response = await fetch(\n          `http://localhost:8081/api/users/${userId}`,\n          { method: 'DELETE' }\n        )\n        const data = await response.json()\n        \n        if (data.success) {\n          alert('ÂâäÈô§„Åó„Åæ„Åó„Åü')\n          this.loadAllUsers()\n        } else {\n          alert(data.error || 'ÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü')\n        }\n      } catch (error) {\n        console.error('ÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü', error)\n        alert('ÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü')\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.user-list-container {\n  padding: 20px;\n  max-width: 100%;\n  margin: 0 auto;\n  overflow-x: auto;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.welcome {\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.logout-btn {\n  padding: 8px 16px;\n  background-color: #f44336;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.logout-btn:hover {\n  background-color: #d32f2f;\n}\n\nh1 {\n  margin-bottom: 20px;\n}\n\n.search-section {\n  background-color: #f5f5f5;\n  padding: 20px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n}\n\nh2 {\n  margin-bottom: 15px;\n}\n\n.search-form .form-row {\n  display: flex;\n  gap: 15px;\n  margin-bottom: 15px;\n  flex-wrap: wrap;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-width: 150px;\n}\n\n.form-group label {\n  margin-bottom: 5px;\n  font-weight: bold;\n}\n\n.form-group input,\n.form-group select {\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.radio-group {\n  display: flex;\n  gap: 15px;\n}\n\n.radio-group label {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  font-weight: normal;\n}\n\n.button-group {\n  display: flex;\n  gap: 10px;\n}\n\n.search-btn,\n.reset-btn {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.search-btn {\n  background-color: #4CAF50;\n  color: white;\n}\n\n.search-btn:hover {\n  background-color: #45a049;\n}\n\n.reset-btn {\n  background-color: #9E9E9E;\n  color: white;\n}\n\n.reset-btn:hover {\n  background-color: #757575;\n}\n\n.result-section {\n  margin-top: 20px;\n}\n\n.no-data {\n  text-align: center;\n  padding: 40px;\n  color: #999;\n}\n\n.user-table {\n  width: 100%;\n  border-collapse: collapse;\n  background-color: white;\n  table-layout: auto;\n}\n\n.user-table th,\n.user-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.user-table th {\n  background-color: #f5f5f5;\n  font-weight: bold;\n}\n\n.user-table tr:hover {\n  background-color: #f9f9f9;\n}\n\n.user-table td:nth-child(9) {\n  white-space: normal;\n  min-width: 150px;\n  max-width: 250px;\n}\n\n.edit-btn,\n.delete-btn {\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 5px;\n}\n\n.edit-btn {\n  background-color: #2196F3;\n  color: white;\n}\n\n.edit-btn:hover {\n  background-color: #0b7dda;\n}\n\n.delete-btn {\n  background-color: #f44336;\n  color: white;\n}\n\n.delete-btn:hover {\n  background-color: #d32f2f;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}